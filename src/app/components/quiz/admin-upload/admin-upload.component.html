<!-- <h2>Upload Excel → Create Test</h2>

<form (ngSubmit)="onUpload()" #f="ngForm">
  <label>Test Title (optional)</label>
  <input type="text" class="form-control" [(ngModel)]="title" name="title"/>

  <div style="margin-top:10px;">
    <input type="file" (change)="onFile($event)" accept=".xlsx,.xls" />
  </div>

  <button [disabled]="!file" class="btn btn-primary" style="margin-top:10px;">Upload</button>
</form>

<div *ngIf="result" style="margin-top:16px;">
  <strong>Uploaded:</strong> {{result.title}} ({{result.questions}} questions) — TestId: {{result.testId}}
</div>

<div style="margin-top:24px;">
  <h3>All Tests</h3>
  <button class="btn btn-secondary" (click)="load()">Refresh</button>
  <ul>
    <li *ngFor="let t of tests">
      <b>{{t.title}}</b> — {{t.questionCount}} Q — {{t.createdAt | date:'short'}}
    </li>
  </ul>
</div> -->

<div class="container py-4">
   
  <div class="row justify-content-center">
       
    <div class="col-lg-8 col-md-10">
           
      <!-- Heading -->
           
      <h2 class="fw-semibold text-primary mb-4">
                <i class="bi bi-upload me-2"></i> Upload Excel → Create Test
             
      </h2>

           
      <!-- Upload Form -->
           
      <form (ngSubmit)="onUpload()" #f="ngForm" class="card shadow-sm p-4">
                       
        <!-- Test Title -->
               
        <div class="mb-3">
                   
          <label for="title" class="form-label fw-semibold"
            >Test Title (optional)</label
          >
                   
          <input
            type="text"
            id="title"
            class="form-control"
            [(ngModel)]="title"
            name="title"
            placeholder="Enter test title"
          />
                 
        </div>

               
        <!-- File Upload -->
               
        <div class="mb-3">
                   
          <label class="form-label fw-semibold">Excel File</label>          
          <input
            type="file"
            class="form-control"
            (change)="onFile($event)"
            accept=".xlsx,.xls"
          />
                   
          <div class="form-text text-muted">Allowed formats: .xlsx, .xls</div>
                 
        </div>

               
        <!-- Upload Button -->
               
        <div class="d-grid">
                   
          <button [disabled]="!file" class="btn btn-primary">
                        <i class="bi bi-cloud-arrow-up me-1"></i> Upload
                     
          </button>
                 
        </div>
             
      </form>

           
      <!-- Upload Result -->
           
      <div *ngIf="result" class="alert alert-success mt-4 shadow-sm">
                <i class="bi bi-check-circle-fill me-2"></i>        
        <strong>Uploaded:</strong> {{ result.title }} ({{
          result.questions
        }}
        questions) —        
        <span class="text-muted">Test ID: {{ result.testId }}</span>      
      </div>

           
      <!-- All Tests -->
      
            
        <div class="card shadow-sm mt-5 test-list">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h5 class="mb-0 fw-semibold text-secondary">
      <i class="bi bi-journal-text me-2"></i> All Tests
    </h5>
    <button class="btn btn-sm btn-outline-secondary" (click)="load()">
      <i class="bi bi-arrow-clockwise me-1"></i> Refresh
    </button>
  </div>

  <!-- NOTE: card-body with padding removes the "touching the border" feel -->
  <div class="card-body p-0">
    <ul class="list-group list-group-flush">
      <li
        *ngFor="let t of tests"
        class="list-group-item d-flex align-items-center justify-content-between px-4 py-3">

        <div class="text-truncate pe-3">
          <b class="text-wrap">{{ t.title }}</b>
          <span class="text-muted">
            — {{ t.questionCount }} Q — {{ t.createdAt | date:'short' }}
          </span>
        </div>

        <div class="btn-group">
          <a class="btn btn-sm btn-outline-primary" [routerLink]="['/admin-test', t.id]">
            View
          </a>
          <button class="btn btn-sm btn-outline-danger" (click)="confirmDelete(t)">
            Delete
          </button>
        </div>
      </li>
    </ul>
  </div>
</div>
         
    </div>
     
  </div>
</div>
